!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r=window.webpackJsonp;window.webpackJsonp=function(n,i){for(var u,a,c=0,f=[];c<n.length;c++)a=n[c],o[a]&&f.push.apply(f,o[a]),o[a]=0;for(u in i)t[u]=i[u];for(r&&r(n,i);f.length;)f.shift().call(null,e)};var n={},o={0:0};return e.e=function(t,r){if(0===o[t])return r.call(null,e);if(void 0!==o[t])o[t].push(r);else{o[t]=[r];var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=e.p+""+t+".pictawall.sdk.min.js",n.appendChild(i)}},e.m=t,e.c=n,e.p="",e(0)}([function(t,e,r){(function(t){"use strict";!function(){var e=r(2);t&&t.exports?t.exports=e:(void 0===window.pictawall&&(window.pictawall={}),void 0===window.pictawall.Sdk&&(window.pictawall.Sdk=e,window.pictawall.Sdk.version="1.0.0"))}()}).call(e,r(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(3),u=r(24),a=r(25),c=r(26),f=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?"https://api.pictawall.com/v2.5":arguments[0];n(this,t),this.apiBaseUrl=e}return o(t,[{key:"loadPolyfills",value:function(){try{var t=[];return t.push(c.loadFetchPolyfill()),Map.prototype.toJSON||t.push(new Promise(function(t){r.e(3,function(e){t(r(109))})})),Array.prototype.includes||t.push(new Promise(function(t){r.e(4,function(e){var n=r(110);n.shim(),t()})})),Promise.all(t)}catch(e){return Promise.reject(e)}}},{key:"getEvent",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];try{var r=new i(this,t,e);return r.fetch()}catch(n){return Promise.reject(n)}}},{key:"getChannel",value:function(t){try{var e=new u(this,t);return e.fetch()}catch(r){return Promise.reject(r)}}},{key:"callApi",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t=a.format(t,!0,e.pathParameters),t.endsWith("/")&&(t=t.slice(0,-1)),t+=a.buildQueryParameters(e.queryParameters),c.fetch(this.apiBaseUrl+t,e)}}]),t}();t.exports=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function v(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(4),f=r(8),s=r(18),l=r(20),p=r(22),h=r(6).SdkError,y=function(t){function e(t,r){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],u=(i.autoUpdate,i.autoUpdateVelocity,i.assetBatchSize),a=void 0===u?100:u;n(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,t));if("string"!=typeof r)throw new h(c,'Event identifier "'+r+'" is not valid.');return c.setProperty("identifier",r),c.apiPath="/events/"+r,c.fetchParser=function(t){return t.data},c.userCollection=new s(c),c.assetCollection=new f(c,a),c.adCollection=new l(c),c.messageCollection=new p(c),c}return i(e,t),u(e,[{key:"fetch",value:function(t){var r=this;return Promise.all([a(Object.getPrototypeOf(e.prototype),"fetch",this).call(this,t),this.userCollection.fetch(),this.assetCollection.fetch(),this.adCollection.fetch(),this.messageCollection.fetch()]).then(function(){return r})}}]),e}(c);t.exports=y},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(5),a=r(7),c=r(6).SdkError,f=new WeakMap,s=function(){function t(e){n(this,t),f.set(this,new Map),this.sdk=e}return i(t,[{key:"setProperties",value:function(t){if("object"!==("undefined"==typeof t?"undefined":o(t)))throw new c(this,'Invalid newProperties value "'+t+'". This might be due to the server returning an invalid value, you can modify it using a fetch parser.');var e=f.get(this);e.clear();var r=!0,n=!1,i=void 0;try{for(var u,a=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value,l=t[s];e.set(s,l)}}catch(p){n=!0,i=p}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw i}}return this}},{key:"setProperty",value:function(t,e){return f.get(this).set(t,e),this}},{key:"getProperty",value:function(t){return f.get(this).get(t)}},{key:"toJSON",value:function(){return f.get(this).toJSON()}},{key:"fetch",value:function(t){var e=this;return this.fetchRaw(t).then(function(t){return e.setProperties(t),e})}}]),t}();a.merge(s,u),t.exports=s},function(t,e,r){"use strict";function n(t,e){for(var r in e){var n=e[r];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r,n)}return t}var o,i,u,a=r(6).SdkError,c=new WeakMap,f=(i={fetchRaw:function(t,e){var r=this;if(!this.apiPath)throw new a(this,"Property apiPath has not been set.");var n=this.sdk.callApi(this.apiPath,{queryParameters:t,pathParameters:e}).then(function(t){if(!t.ok)throw new a(r,"API responded with http code "+t.status+' for endpoint "'+t.url+'"');return t.json()}),o=this.fetchParser;return o?n.then(function(t){return o(t)}):n},set fetchParser(t){c.set(this,t)}},o="fetchParser",u={},u[o]=u[o]||{},u[o].get=function(){return c.get(this)},n(i,u),i);t.exports=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=r(7),a=function(t){function e(t,r,i,a){n(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,"["+u.getName(t)+"] "+r,i,a));return c.name=c.constructor.name,c}return i(e,t),e}(Error),c=function(t){function e(){var t;n(this,e);for(var r=arguments.length,i=Array(r),u=0;r>u;u++)i[u]=arguments[u];return o(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)))}return i(e,t),e}(a);t.exports={PictawallError:a,SdkError:c}},function(t,e,r){"use strict";function n(t,e){if(e!==Object.prototype){var r=Object.getPrototypeOf(e);null!=e&&n(t,r);var o=t.prototype,u=!0,a=!1,c=void 0;try{for(var f,s=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(u=(f=s.next()).done);u=!0){var l=f.value;if("constructor"!==l){if(void 0!==Object.getOwnPropertyDescriptor(o,l))throw new i.PictawallError(n,"Merge error, method "+l+" is already in the receiving prototype.");Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(e,l))}}}catch(p){a=!0,c=p}finally{try{!u&&s["return"]&&s["return"]()}finally{if(a)throw c}}}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=r(6),u={getName:function(t){if(null==t)return String(t);var e=void 0;if("function"==typeof t)e=t.name;else{var r=Object.getPrototypeOf(t);e=r.constructor.name}return e?e:"nameless"},merge:function(t){if("function"!=typeof t)throw new i.SdkError(this,"Receiving Class is not a function");for(var e=arguments.length,r=Array(e>1?e-1:0),u=1;e>u;u++)r[u-1]=arguments[u];for(var a=0;a<r.length;a++){var c=r[a];if(null==c)throw new i.SdkError(this,"Invalid mixin n° "+a+", not defined.");if("object"===("undefined"==typeof c?"undefined":o(c)))n(t,c);else{if("function"!=typeof c)throw new i.SdkError(this,"Invalid type for mixin n° "+a+", only functions and objects are accepted as mixins.");n(t,c.prototype)}}return t}};Object.freeze(u),t.exports=u},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function p(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(9),f=r(17),s=r(6),l=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.limit,u=void 0===i?100:i,a=r.orderBy,c=void 0===a?"date_desc":a,f=r.kind;n(this,e);var s=o(this,Object.getPrototypeOf(e).call(this,t.sdk,u,c));return s._event=t,s.apiPath="/events/"+t.getProperty("identifier")+"/assets/{assetId}",s.fetchParser=function(t){return t.data},s._kindFilter=f,s}return i(e,t),u(e,[{key:"hasFeaturedAsset",value:function(){var t=this._event.getProperty("featuredAssetId");if(void 0===t)throw new s.SdkError(this,"Event.featuredAssetId is undefined, make sure the event has been populated.");return-1!==t}},{key:"getFeaturedAsset",value:function(){try{if(!this.hasFeaturedAsset())return Promise.resolve(null);var t=this.findOne({featured:!0});return null!=t?Promise.resolve(t):this.fetchById(this._event.getProperty("featuredAssetId"))}catch(e){return Promise.reject(e)}}},{key:"fetchById",value:function(t){var e=this;return this.fetchRaw(null,{assetId:t}).then(function(t){return e.buildModel(t)})}},{key:"createModel",value:function(){return new f(this._event)}},{key:"fetchOptions",get:function(){var t=a(Object.getPrototypeOf(e.prototype),"fetchOptions",this);return this._kindFilter&&(t.kind=this._kindFilter),t}}]),e}(c);t.exports=l},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function l(t,e,r,n){var o=Object.getOwnPropertyDescriptor(t,e);if(void 0===o){var i=Object.getPrototypeOf(t);null!==i&&l(i,e,r,n)}else if("value"in o&&o.writable)o.value=r;else{var u=o.set;void 0!==u&&u.call(n,r)}return r},c=function p(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},f=r(10),s=function(t){function e(t,r,i){n(this,e);var u=o(this,Object.getPrototypeOf(e).call(this,t));return u._limit=r,u._orderBy=i,u._currentPage=0,u._pageCount=null,u._total=null,u._since=null,u}return i(e,t),u(e,[{key:"hasMore",value:function(){return 0===this._currentPage||this._currentPage<this._pageCount}},{key:"_parse",value:function(t){t.currentPage>this._currentPage&&(this._currentPage=t.currentPage),this._pageCount=t.pageCount,this._total=t.total,this._since=t.since}},{key:"fetchOptions",get:function(){var t=c(Object.getPrototypeOf(e.prototype),"fetchOptions",this);return t.currentPage=this._currentPage+1,this._since&&(t.since=this._since),this._orderBy&&(t.order_by=this._orderBy),this._limit&&(t.limit=this._limit),t}},{key:"fetchParser",set:function(t){a(Object.getPrototypeOf(e.prototype),"fetchParser",t,this)},get:function(){var t=c(Object.getPrototypeOf(e.prototype),"fetchParser",this),r=this;return function(e){return r._parse(e),t?t(e):e}}}]),e}(f);t.exports=s},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(7),u=r(6).SdkError,a=function(){function t(e){if(n(this,t),this._loaded=!1,void 0===e)throw new u("This model did not receive a SDK instance.");this.sdk=e,this._models=[]}return o(t,[{key:"buildModel",value:function(t){var e=this.createModel();return e.setProperties(t),e}},{key:"createModel",value:function(){throw new u("CreateModel not implemented")}},{key:"fetch",value:function(){var t=this;return this.hasMore?this.fetchRaw(this.fetchOptions).then(function(e){if(!Array.isArray(e))throw new u(t,'Invalid response from the http API. Should have returned array, got "'+JSON.stringify(e)+'"');return e.forEach(function(e){t.add(t.buildModel(e),!0,!1)}),t._loaded=!0,t}):Promise.reject(new u(this,"#fetch called but #hasMore returns false"))}},{key:"add",value:function(t){arguments.length<=1||void 0===arguments[1]?!0:arguments[1],arguments.length<=2||void 0===arguments[2]?!0:arguments[2];this._models.push(t)}},{key:"toJSON",value:function(){return this._models}},{key:"at",value:function(t){return this._models[t]}},{key:Symbol.iterator,value:function(){var t=this;return{next:function(){return this._index>=t.length?{done:!0}:{done:!1,value:t.at(this._index++)}},_index:0}}},{key:"fetchOptions",get:function(){return{}}},{key:"length",get:function(){return this._models.length}},{key:"loaded",get:function(){return this._loaded}},{key:"hasMore",get:function(){return!this._loaded}}]),t}(),c=r(5),f=r(11);i.merge(a,c,f),t.exports=a},function(t,e,r){"use strict";var n=(r(6),r(12)),o={findOne:function(t){return this.find(t).limit(1).first()},find:function(t){return new n(t,this)}};t.exports=o},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=Array.from(t.iterable);if(t.sortQuery){var r=t.sortQuery;if(r.$natural)-1===r.$natural&&e.reverse();else{var n="function"==typeof r?r:u(r);e.sort(n)}}if(void 0===t.query)return t.startAt||t.limit?e.splice(t.startAt||0,t.limit||e.length):e;for(var o="function"==typeof t.query?t.query:a(t.query),i=[],c=t.startAt||0;c<e.length&&!(t.limit&&i.length>=t.limit);c++){var f=e[c];o(f)&&i.push(f)}return i}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(13),a=r(15),c=new WeakMap,f=function(){function t(e,r){n(this,t),c.set(this,{query:e,iterable:r})}return i(t,[{key:"limit",value:function(t){return this._ensurePending(),c.get(this).limit=t,this}},{key:"skip",value:function(t){return this._ensurePending(),c.get(this).startAt=t,this}},{key:"sort",value:function(t){return this._ensurePending(),c.get(this).sortQuery=t,this}},{key:"toArray",value:function(){var t=c.get(this);return void 0===t.result&&(t.result=o(t)),t.result}},{key:"first",value:function(){return this.toArray()[0]||null}},{key:"forEach",value:function(t){return this.toArray().forEach(t),this}},{key:"_ensurePending",value:function(){if(this._ready())throw new Error("Cannot change the limit after the query has been executed.")}},{key:"_ready",value:function(){return void 0!==c.get(this).result}}]),t}();t.exports=f},function(t,e,r){"use strict";function n(t){return function(e,r){return o(e,r,t)}}function o(t,e,r){var n=!0,c=!1,f=void 0;try{for(var s,l=Object.getOwnPropertyNames(r)[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var p=s.value,h=r[p],y=a.find(t,p),v=a.find(e,p),d=void 0;if(d="object"===("undefined"==typeof h?"undefined":u(h))?o(y,v,h):i(y,v,h),0!==d)return d}}catch(b){c=!0,f=b}finally{try{!n&&l["return"]&&l["return"]()}finally{if(c)throw f}}}function i(t,e,r){return t===e?0:t>e?r:-r}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=r(14);t.exports=n},function(t,e){(function(e){"use strict";var r={find:function(t,e){for(var r=e.split("."),n=0;n<r.length;n++){if(void 0===t)return;t=t[r[n]]}return t},exists:function(t,e){return void 0!==this.find(t,e)},get global(){return"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0}};t.exports=r}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e){if("object"!==("undefined"==typeof e?"undefined":o(e))||Array.isArray(e))return a.eq(t,e);var r=!0,i=!1,c=void 0;try{for(var f,s=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(r=(f=s.next()).done);r=!0){var l=f.value,p=e[l];if("$"===l.charAt(0)){var h=a[l.substr(1)];if(void 0===h)throw new Error('Unknown WHERE selector "'+l+'"');if(!h(t,p))return!1}else{var y=u.find(t,l);if(!n(y,p))return!1}}}catch(v){i=!0,c=v}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw c}}return!0}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=r(16),u=r(14),a={eq:function(t,e){return Array.isArray(t)||Array.isArray(e)?i.areEqual(t,e):0===t&&0===e||Object.is(t,e)},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},lt:function(t,e){return e>t},lte:function(t,e){return e>=t},ne:function(t,e){return!a.eq(t,e)},"in":function(t,e){if(!Array.isArray(e))throw new Error('$in and $nin require an Array, got "'+e+'".');var r=!0,n=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;if(a.eq(t,c))return!0}}catch(f){n=!0,o=f}finally{try{!r&&u["return"]&&u["return"]()}finally{if(n)throw o}}return!1},nin:function(t,e){return!a["in"](t,e)},or:function(t,e){if(!Array.isArray(e))throw new Error('$or and $nor require an Array, got "'+e+'".');var r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(n(t,c))return!0}}catch(f){o=!0,i=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return!1},nor:function(t,e){return!a.or(t,e)},and:function(t,e){if(!Array.isArray(e))throw new Error('$and requires an Array, got "'+e+'".');var r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(!n(t,c))return!1}}catch(f){o=!0,i=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return!0},not:function(t,e){return!n(t,e)}};t.exports=function(t){return function(e){return e.toJSON&&(e=e.toJSON()),n(e,t)}}},function(t,e){"use strict";var r={areEqual:function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0},isIterable:function(t){return null==t?!1:void 0!==t[Symbol.iterator]}};t.exports=r},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function p(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},f=r(4),s=r(6).SdkError,l=function(t){function e(t){n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t.sdk));if("object"!==("undefined"==typeof t?"undefined":u(t)))throw new s(r,"event must be an EventModel.");return r._event=t,r.fetchParser=function(t){return t.data},r}return i(e,t),a(e,[{key:"setProperties",value:function(t){Array.isArray(t.source.additionalData)&&(t.source.additionalData={});var r=this._event.userCollection;if(this._owner=r.findOne({id:t.owner.id}),null===this._owner){var n=r.createModel(t.owner);n.setProperties(t.owner),this._owner=r.add(n,!1,!1)}return this.apiPath="/events/"+this._event.getProperty("identifier")+"/assets/"+t.id,c(Object.getPrototypeOf(e.prototype),"setProperties",this).call(this,t)}},{key:"setProperty",value:function(t,r){"id"===t&&(this.apiPath="/events/"+this._event.getProperty("identifier")+"/assets/"+r),c(Object.getPrototypeOf(e.prototype),"setProperty",this).call(this,t,r)}},{key:"markMediaAsDead",value:function(){var t=this;return this.sdk.callApi(this.apiPath+"/check",{method:"PATCH"}).then(function(){return t})}},{key:"report",value:function(){var t=this;return this.isSafe?Promise.resolve(this):this.sdk.callApi(this.apiPath+"/report",{method:"PATCH"}).then(function(){return t})}},{key:"owner",get:function(){return this._owner}},{key:"isSafe",get:function(){return this.getProperty("isSafe")}}]),e}(f);t.exports=l},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(9),c=r(19),f=function(t){function e(t){n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t.sdk,5,"score"));return r._event=t,r.apiPath="/events/"+t.getProperty("identifier")+"/users/{userId}",r.fetchParser=function(t){return t.data},r}return i(e,t),u(e,[{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=(arguments.length<=2||void 0===arguments[2]?!0:arguments[2],this._models.findIndex(function(e){return e.getProperty("id")===t.getProperty("id")}));return-1===r?(this._models.push(t),t):e?(this._models[r]=t,t):this._models[r]}},{key:"createModel",value:function(){return new c(this._event)}}]),e}(a);t.exports=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function s(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:s(o,e,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(4),f=function(t){function e(t){n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t.sdk));return r._event=t,r.fetchParser=function(t){return t.data},r}return i(e,t),u(e,[{key:"setProperties",value:function(t){return this.apiPath="/events/"+this._event.getProperty("identifier")+"/users/"+t.id,a(Object.getPrototypeOf(e.prototype),"setProperties",this).call(this,t)}},{key:"setProperty",value:function(t,r){"id"===t&&(this.apiPath="/events/"+this._event.getProperty("identifier")+"/users/"+r),a(Object.getPrototypeOf(e.prototype),"setProperty",this).call(this,t,r)}},{key:"markAvatarAsDead",value:function(){var t=this;return this.sdk.callApi(this.apiPath+"/check",{method:"PATCH"}).then(function(){return t})}}]),e}(c);t.exports=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(10),c=r(21),f=function(t){function e(t){n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t.sdk));return r.apiPath="/events/"+t.getProperty("identifier")+"/ads/{adId}",r.fetchParser=function(t){return t.data},r}return i(e,t),u(e,[{key:"createModel",value:function(){return new c(this.sdk)}}]),e}(a);t.exports=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=r(4),a=function(t){function e(t){return n(this,e),o(this,Object.getPrototypeOf(e).call(this,t))}return i(e,t),e}(u);t.exports=a},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(10),c=r(23),f=function(t){function e(t){n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this,t.sdk));return r.apiPath="/events/"+t.getProperty("identifier")+"/ads/{adId}",r.fetchParser=function(t){return t.data},r}return i(e,t),u(e,[{key:"createModel",value:function(){return new c(this.sdk)}}]),e}(a);t.exports=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=r(4),a=function(t){function e(t){return n(this,e),o(this,Object.getPrototypeOf(e).call(this,t))}return i(e,t),e}(u);t.exports=a},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function p(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,r);
}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(4),f=r(3),s=r(6).SdkError,l=function(t){function e(t,r){n(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));if("string"!=typeof r)throw new s(i,'Channel identifier "'+r+'" is not valid.');return i.apiPath="/channels/"+r,i.fetchParser=function(t){return t.data},i}return i(e,t),u(e,[{key:"fetch",value:function(t){var r=this;return a(Object.getPrototypeOf(e.prototype),"fetch",this).call(this,t).then(function(){var t=r._event;return Promise.all([t.adCollection.fetch(),t.assetCollection.fetch(),t.userCollection.fetch(),t.messageCollection.fetch()])}).then(function(){return r})}},{key:"setProperties",value:function(t){var r=t.event;return this._event=new f(this.sdk,r.identifier),this._event.setProperties(r),a(Object.getPrototypeOf(e.prototype),"setProperties",this).call(this,t)}},{key:"event",get:function(){return this._event}}]),e}(c);t.exports=l},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n={format:function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;n>i;i++)o[i-2]=arguments[i];return 1===o.length&&"object"===r(o[0])&&(o=o[0]),t.replace(/{(\w+)}/g,function(t,r){return void 0===o[r]?e?"":t:o[r]})},buildQueryParameters:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(null==t)return"";var e=Object.getOwnPropertyNames(t);if(0===e.length)return"";var r=[];return e.forEach(function(e){var n=t[e];Array.isArray(n)?n.forEach(function(t){r.push(encodeURIComponent(e)+"[]="+encodeURIComponent(t))}):r.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),"?"+r.join("&")}};t.exports=n},function(t,e,r){"use strict";function n(t){"undefined"!=typeof window&&window.fetch?t({fetch:window.fetch,Response:window.Response}):"function"!=typeof XMLHttpRequest?r.e(1,function(e){var n=r(27);t({fetch:n,Response:n.Response})}):r.e(2,function(e){r(108),t({fetch:window.fetch,Response:window.Response})})}t.exports={loadFetchPolyfill:function(){var t=this;return this.fetch?Promise.resolve(this.fetch):new Promise(function(e){n(function(r){var n=r.fetch,o=r.Response;t.fetch=n,t.Response=o,e(n)})})}}}]);