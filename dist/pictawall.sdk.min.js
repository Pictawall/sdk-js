module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r=window.webpackJsonp;window.webpackJsonp=function(n,i){for(var u,a,f=0,c=[];f<n.length;f++)a=n[f],o[a]&&c.push.apply(c,o[a]),o[a]=0;for(u in i)e[u]=i[u];for(r&&r(n,i);c.length;)c.shift().call(null,t)};var n={},o={0:0};return t.e=function(e,r){if(0===o[e])return r.call(null,t);if(void 0!==o[e])o[e].push(r);else{o[e]=[r];var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+""+e+".pictawall.sdk.min.js",n.appendChild(i)}},t.m=e,t.c=n,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(!function(){var e=new Error('Cannot find module "./app_client"');throw e.code="MODULE_NOT_FOUND",e}()),i=n(o),u=r(1),a=n(u),f=r(8),c=n(f),l=r(135),s=n(l),p=r(134),d=n(p),y=r(133),h=n(y),v=r(9),b=n(v),w=r(129),m=n(w),g=r(118),O=n(g),P=r(132),_=n(P),j=r(128),k=n(j);t["default"]=function(){return void 0===window.pictawall&&(window.pictawall={}),void 0===window.pictawall.Sdk&&(window.pictawall.Sdk=i["default"],window.pictawall.Sdk.models={AdModel:a["default"],AssetModel:c["default"],ChannelModel:s["default"],EventModel:d["default"],MessageModel:h["default"],UserModel:b["default"]},window.pictawall.Sdk.collections={AdCollection:m["default"],AssetCollection:O["default"],MessageCollection:_["default"],UserCollection:k["default"]},window.pictawall.Sdk.version="1.2.1"),window.pictawall.Sdk}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(2),c=n(f),l=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"type",get:function(){return"ad"}}]),t}(c["default"]);t["default"]=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(3),c=r(5),l=n(c),s=r(6),p=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:s.Symbols.parseResponse,value:function(e){return e.data}},{key:"id",get:function(){var e=this.getProperty("id");if(!e)throw new f.SdkError(this,"This model does not have an ID.");return e}}]),t}(l["default"]);t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ApiError=t.NetworkError=t.SdkError=t.PictawallError=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},f=r(4),c=n(f),l=t.PictawallError=function(e){function t(e,r,n){if(o(this,t),"object"===("undefined"==typeof r?"undefined":a(r))||"string"==typeof n){var u=n;n=r,r=u}r||(r="<No Message Specified>");var f=i(this,Object.getPrototypeOf(t).call(this,"["+c["default"].getName(e)+"] "+r));return c["default"].defineFinal(f,"thrower",e),c["default"].defineFinal(f,"previousException",n),f}return u(t,e),t}(Error);l.prototype.name="PictawallError";var s=t.SdkError=function(e){function t(){var e;o(this,t);for(var r=arguments.length,n=Array(r),u=0;r>u;u++)n[u]=arguments[u];return i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)))}return u(t,e),t}(l);s.prototype.name="SdkError";var p=t.NetworkError=function(e){function t(){var e;o(this,t);for(var r=arguments.length,n=Array(r),u=0;r>u;u++)n[u]=arguments[u];return i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)))}return u(t,e),t}(l);p.prototype.name="NetworkError";var d=t.ApiError=function(e){function t(e,r,n,u){o(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,e,r,u));return c["default"].defineFinal(a,"response",n),a}return u(t,e),t}(p);d.prototype.name="ApiError"},function(e,t,r){"use strict";function n(e,t){if(t!==Object.prototype){var r=Object.getPrototypeOf(t);null!=t&&n(e,r);var o=e.prototype;if(Object.getOwnPropertyNames(t).forEach(function(e){if("constructor"!==e){if(void 0!==Object.getOwnPropertyDescriptor(o,e))throw new i.PictawallError(a,"Merge error, method "+e+" is already in the receiving prototype.");Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))}}),t[u.disableSymbolMerge]!==!0){var f=Object.getOwnPropertySymbols(t);f.forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Symbols=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=r(3),u=t.Symbols={disableSymbolMerge:Symbol("disableSymbolMerge")},a={getName:function(e){if(null==e)return String(e);var t=void 0;if("function"==typeof e)t=e.name;else{var r=Object.getPrototypeOf(e);t=r.constructor.name}return t?t:"nameless"},merge:function(e){if("function"!=typeof e)throw new i.SdkError(this,"Receiving Class is not a function");for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;t>u;u++)r[u-1]=arguments[u];for(var a=0;a<r.length;a++){var f=r[a];if(null==f)throw new i.SdkError(this,"Invalid mixin n°"+a+", not defined.");if("object"===("undefined"==typeof f?"undefined":o(f)))n(e,f);else{if("function"!=typeof f)throw new i.SdkError(this,"Invalid type for mixin n°"+a+", only functions and objects are accepted as mixins.");n(e,f.prototype)}}return e},defineFinal:function(e,t,r){return Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1}),e},defineAbstract:function(e,t){return Object.defineProperty(e.prototype,t,{value:function(){throw new i.SdkError("#"+t+" not implemented.")}}),e}};t["default"]=Object.freeze(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(6),f=n(a),c=r(4),l=n(c),s=r(3),p=r(7),d=n(p),y=new WeakMap,h=function(){function e(t){o(this,e),y.set(this,new Map),this.sdk=t}return u(e,[{key:"setProperties",value:function(e){if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new s.SdkError(this,'Invalid newProperties value "'+e+'". This might be due to the server returning an invalid value, you can modify it using a fetch parser.');var t=y.get(this);t.clear();var r=!0,n=!1,o=void 0;try{for(var u,a=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var f=u.value,c=e[f];t.set(f,c)}}catch(l){n=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw o}}return this}},{key:"setProperty",value:function(e,t){return y.get(this).set(e,t),this}},{key:"getProperty",value:function(e){return y.get(this).get(e)}},{key:"toJSON",value:function(){return d["default"].toJson(y.get(this))}},{key:"fetch",value:function(e){var t=this;return this.fetchRaw(e).then(function(e){return t.setProperties(e),t})}},{key:"type",get:function(){throw new s.SdkError(this,"get type() not implemented")}},{key:"id",get:function(){throw new s.SdkError(this,"get id() not implemented")}}]),e}();l["default"].merge(h,f["default"]),t["default"]=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Symbols=void 0;var n=r(3),o=t.Symbols={parseResponse:Symbol("parseResponse")},i={fetchRaw:function(e,t){var r,i;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.apiPath){u.next=2;break}throw new n.SdkError(this,'Property "apiPath" is not defined.');case 2:if(this.sdk){u.next=4;break}throw new n.SdkError(this,'Property "sdk" is not defined');case 4:return u.next=6,regeneratorRuntime.awrap(this.sdk.callApi(this.apiPath,{queryParameters:e,pathParameters:t}));case 6:if(r=u.sent,r.ok){u.next=9;break}throw new n.ApiError(this,"API responded with http code "+r.status+' for endpoint "'+r.url+'"',r);case 9:return u.next=11,regeneratorRuntime.awrap(r.json());case 11:if(i=u.sent,"function"==typeof this[o.parseResponse]){u.next=14;break}return u.abrupt("return",i);case 14:return u.abrupt("return",this[o.parseResponse](i));case 15:case"end":return u.stop()}},null,this)}};t["default"]=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={toJson:function(e){var t={};return e.forEach(function(e,r){t[r]=e}),t}};t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function w(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:w(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},l=r(9),s=n(l),p=r(10),d=n(p),y=r(3),h=r(2),v=n(h),b=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e.sdk));if("object"!==("undefined"==typeof e?"undefined":a(e)))throw new y.SdkError(r,"event must be an EventModel.");return r._event=e,r}return u(t,e),f(t,[{key:"setProperties",value:function(e){Array.isArray(e.source.additionalData)&&(e.source.additionalData={});var r=this._event.getCollection("users");if(this._owner=null!=r?r.findOne({id:e.owner.id}):null,null===this._owner){var n=new s["default"](this._event);n.setProperties(e.owner),null!=r?this._owner=r.add(n,!1,!1):this._owner=n}return this.apiPath="/events/"+this._event.getProperty("identifier")+"/assets/"+e.id,c(Object.getPrototypeOf(t.prototype),"setProperties",this).call(this,e)}},{key:"setProperty",value:function(e,r){"id"===e&&(this.apiPath="/events/"+this._event.getProperty("identifier")+"/assets/"+r),c(Object.getPrototypeOf(t.prototype),"setProperty",this).call(this,e,r)}},{key:"markMediaAsDead",value:function(){var e=this;return this.sdk.callApi(this.apiPath+"/check",{method:"PATCH"}).then(function(){return e})}},{key:"report",value:function(){var e=this;return this.isSafe?d["default"].Promise.resolve(this):this.sdk.callApi(this.apiPath+"/report",{method:"PATCH"}).then(function(){return e})}},{key:"owner",get:function(){return this._owner}},{key:"isSafe",get:function(){return this.getProperty("isSafe")}},{key:"type",get:function(){return"asset"}}]),t}(v["default"]);t["default"]=b},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function p(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(2),l=n(c),s=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e.sdk));return r._event=e,r}return u(t,e),a(t,[{key:"setProperties",value:function(e){return this.apiPath="/events/"+this._event.getProperty("identifier")+"/users/"+e.id,f(Object.getPrototypeOf(t.prototype),"setProperties",this).call(this,e)}},{key:"setProperty",value:function(e,r){"id"===e&&(this.apiPath="/events/"+this._event.getProperty("identifier")+"/users/"+r),f(Object.getPrototypeOf(t.prototype),"setProperty",this).call(this,e,r)}},{key:"markAvatarAsDead",value:function(){var e=this;return this.sdk.callApi(this.apiPath+"/check",{method:"PATCH"}).then(function(){return e})}},{key:"type",get:function(){return"user"}}]),t}(l["default"]);t["default"]=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=r(118)["default"],o=r(128)["default"],i=r(129)["default"],u=r(132)["default"];if(void 0===t)e.addCollection("users",new o(e)),e.addCollection("assets",new n(e)),e.addCollection("ads",new i(e)),e.addCollection("messages",new u(e));else{var a=!0,f=!1,c=void 0;try{for(var l,s=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var p=l.value;e.addCollection(p,t[p](e))}}catch(d){f=!0,c=d}finally{try{!a&&s["return"]&&s["return"]()}finally{if(f)throw c}}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(11),f=n(a),c=r(12),l=n(c),s=r(14),p=n(s),d=r(17),y=n(d),h=r(3),v=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"https://api.pictawall.net/v2.5":arguments[0];o(this,e),this.apiBaseUrl=t}return u(e,[{key:"getEvent",value:function(t,n,o){var u=this;return(0,y["default"])().then(function(){var a=r(134)["default"],f=new a(u,t,n);return i(f,o),e.Promise.all([f.fetch(),f.fetchCollections()]).then(function(){return f})})}},{key:"getChannel",value:function(e,t,n){var o=this;return(0,y["default"])().then(function(){var u=r(135)["default"],a=new u(o,e,t);return a.fetch().then(function(e){return i(e.event,n),e.event.fetchCollections()}).then(function(){return a})})}},{key:"callApi",value:function(e,t){var r,n,o,i,u,a,c,s,d,y,v;return regeneratorRuntime.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(r=t.pathParameters||{},n=t.queryParameters||{},e=f["default"].format(e,!0,r),e.endsWith("/")&&(e=e.slice(0,-1)),o=Object.getOwnPropertyNames(n),!(o.length>0)){b.next=27;break}for(i=new p["default"].URLSearchParams,u=!0,a=!1,c=void 0,b.prev=10,s=o[Symbol.iterator]();!(u=(d=s.next()).done);u=!0)y=d.value,v=n[y],i.set(y,v);b.next=18;break;case 14:b.prev=14,b.t0=b["catch"](10),a=!0,c=b.t0;case 18:b.prev=18,b.prev=19,!u&&s["return"]&&s["return"]();case 21:if(b.prev=21,!a){b.next=24;break}throw c;case 24:return b.finish(21);case 25:return b.finish(18);case 26:e+="?"+i.toString();case 27:return b.prev=27,b.next=30,regeneratorRuntime.awrap(l["default"].fetch(this.apiBaseUrl+e,t));case 30:return b.abrupt("return",b.sent);case 33:throw b.prev=33,b.t1=b["catch"](27),new h.NetworkError(this,b.t1);case 36:case"end":return b.stop()}},null,this,[[10,14,18,26],[19,,21,25],[27,33]])}}],[{key:"Promise",get:function(){return Promise}}]),e}();t["default"]=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n={format:function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;n>i;i++)o[i-2]=arguments[i];return 1===o.length&&"object"===r(o[0])&&(o=o[0]),e.replace(/{(\w+)}/g,function(e,r){return void 0===o[r]?t?"":e:o[r]})}};t["default"]=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Promise(function(e){return window.fetch?e():void r.e(1,function(t){r(13),e()})});t["default"]={load:function(){var e=this;return n.then(function(){e.fetch||(e.fetch=window.fetch.bind(window)),e.Response||(e.Response=window.Response)})},set Promise(e){}}},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(10),i=n(o),u=r(15),a=n(u);t["default"]={load:function(){var e=this;return"function"==typeof a["default"].URLSearchParams?(this.URLSearchParams=a["default"].URLSearchParams,i["default"].Promise.resolve()):new i["default"].Promise(function(t){r.e(2,function(n){e.URLSearchParams=r(16),t()})})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=window},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){if(p)return p;try{var e=[];e.push(a["default"].load()),e.push(c["default"].load()),"undefined"==typeof Symbol&&e.push(new s["default"].Promise(function(e){r.e(3,function(t){r(19),e()})}));var t=new s["default"].Promise(function(e){return r(18)()?e():void r.e(4,function(t){r(20),e()})});return e.push(t),Array.prototype.includes||e.push(new s["default"].Promise(function(e){r.e(5,function(t){r(73).shim(),e()})})),Array.prototype.findIndex||e.push(new s["default"].Promise(function(e){r.e(6,function(t){e(r(97))})})),Array.from||e.push(new s["default"].Promise(function(e){r.e(7,function(t){e(r(100))})})),String.prototype.endsWith||e.push(new s["default"].Promise(function(e){r.e(8,function(t){e(r(105))})})),Object.is||e.push(new s["default"].Promise(function(e){r.e(8,function(t){Object.is=r(108),e()})})),"function"!=typeof WeakMap&&e.push(new s["default"].Promise(function(e){r.e(9,function(t){r(109),e()})})),"undefined"==typeof regeneratorRuntime&&e.push(new s["default"].Promise(function(e){r.e(10,function(t){i["default"].regeneratorRuntime=r(115),e()})})),p=s["default"].Promise.all(e).then(function(){})}catch(n){return s["default"].Promise.reject(n)}};var o=r(15),i=n(o),u=r(12),a=n(u),f=r(14),c=n(f),l=r(10),s=n(l),p=null},function(e,t){"use strict";e.exports=function(){var e,t,r;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(n){return!1}return"[object Map]"!==String(e)?!1:3!==e.size?!1:"function"!=typeof e.clear?!1:"function"!=typeof e["delete"]?!1:"function"!=typeof e.entries?!1:"function"!=typeof e.forEach?!1:"function"!=typeof e.get?!1:"function"!=typeof e.has?!1:"function"!=typeof e.keys?!1:"function"!=typeof e.set?!1:"function"!=typeof e.values?!1:(t=e.entries(),r=t.next(),r.done!==!1?!1:r.value?"raz"!==r.value[0]?!1:"one"===r.value[1]:!1)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(f){o=!0,i=f}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function m(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},l=r(8),s=n(l),p=r(10),d=(n(p),r(3)),y=r(119),h=n(y),v=r(121),b={display:"displayCount",date:"postTime",likes:"likeCount"},w=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.limit,u=void 0===n?100:n,a=r.orderBy,f=void 0===a?"date DESC":a,c=r.kind;o(this,t);var l=i(this,Object.getPrototypeOf(t).call(this,e.sdk,u,f));if(l._event=e,l.apiPath="/events/"+e.getProperty("identifier")+"/assets/{modelId}",l._kindFilter=c,l._orderBy=f,!/^[a-z]+[_ ](asc|desc)$/i.test(l._orderBy))throw new d.SdkError(l,'orderBy value "'+l._orderBy+'" does not match the parameter requirements (/^[a-z]+[_ ](asc|desc)$/i)');if(!l.sortOrder.property)throw new d.SdkError(l,'orderBy property should be one of "'+Object.keys(b).join('", "')+'".');return l}return u(t,e),f(t,[{key:"hasFeaturedAsset",value:function(){var e=this._event.getProperty("featuredAssetId");if(void 0===e)throw new d.SdkError(this,"Event.featuredAssetId is undefined, make sure the event has been populated.");return-1!==e}},{key:"getFeaturedAsset",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasFeaturedAsset()){t.next=2;break}return t.abrupt("return",null);case 2:if(e=this.findOne({featured:!0}),null==e){t.next=5;break}return t.abrupt("return",e);case 5:return t.abrupt("return",this.fetchById(this._event.getProperty("featuredAssetId")));case 6:case"end":return t.stop()}},null,this)}},{key:"createModel",value:function(){return new s["default"](this._event)}},{key:v.Symbols.getUpdatedItems,value:function(e){var r,n,o,i;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:return r=promise.all([c(Object.getPrototypeOf(t.prototype),v.Symbols.getUpdatedItems,this).call(this,e),this.fetchRaw(Object.assign(this.fetchOptions,{since:e}),{modelId:"deleted"})]),n=a(r,2),o=n[0],i=n[1],o.removed=i,u.abrupt("return",o);case 6:case"end":return u.stop()}},null,this)}},{key:"sortOrder",get:function(){var e=this._orderBy.toLowerCase().split(/[_ ]/),t=a(e,2),r=t[0],n=t[1];return{property:b[r],direction:"asc"===n?1:-1}}},{key:"fetchOptions",get:function(){var e=c(Object.getPrototypeOf(t.prototype),"fetchOptions",this);return this._kindFilter&&(e.kind=this._kindFilter),this._orderBy&&(e.order_by=this._orderBy),e}}]),t}(h["default"]);t["default"]=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function y(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(120),l=n(c),s=r(6),p=r(121),d=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:s.Symbols.parseResponse,value:function(e){return f(Object.getPrototypeOf(t.prototype),s.Symbols.parseResponse,this).call(this,e).data}},{key:p.Symbols.getUpdatedItems,value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.fetchRaw(Object.assign(this.fetchOptions,{since:e})));case 2:return t.t0=t.sent,t.abrupt("return",{added:t.t0});case 4:case"end":return t.stop()}},null,this)}}]),t}(l["default"]);t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function d(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(121),l=n(c),s=r(6),p=function(e){function t(e,r){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n._limit=r,n._currentPage=0,n._pageCount=null,n._total=null,n}return u(t,e),a(t,[{key:"hasMore",value:function(){return 0===this._currentPage||this._currentPage<this._pageCount}},{key:s.Symbols.parseResponse,value:function(e){return e=f(Object.getPrototypeOf(t.prototype),s.Symbols.parseResponse,this).call(this,e),e.currentPage>this._currentPage&&(this._currentPage=e.currentPage),this._pageCount=e.pageCount,this._total=e.total,e}},{key:"fetchOptions",get:function(){var e=f(Object.getPrototypeOf(t.prototype),"fetchOptions",this);return e.page=this._currentPage+1,this._limit&&(e.limit=this._limit),e}},{key:"total",get:function(){return this._total}}]),t}(l["default"]);t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Symbols=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(4),a=n(u),f=r(3),c=r(6),l=n(c),s=r(122),p=n(s),d=r(10),y=(n(d),t.Symbols={getUpdatedItems:Symbol("getUpdatedItems")}),h=new WeakMap,v=function(){function e(t){if(o(this,e),void 0===t)throw new f.SdkError(this,"This model did not receive a SDK instance.");a["default"].defineFinal(this,"sdk",t),h.set(this,{lastUpdate:-1,loaded:!1,models:[]})}return i(e,[{key:c.Symbols.parseResponse,value:function(e){return h.get(this).lastUpdate=e.since||Date.now()/1e3,e}},{key:"buildModel",value:function(e){var t=this.createModel();return t.setProperties(e),t}},{key:"fetch",value:function(){var e,t=this;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.hasMore){r.next=2;break}throw new f.SdkError(this,"#fetch called but #hasMore returns false");case 2:return r.next=4,regeneratorRuntime.awrap(this.fetchRaw(this.fetchOptions));case 4:if(e=r.sent,Array.isArray(e)){r.next=7;break}throw new f.SdkError(this,'Invalid response from the http API. Should have returned array, got "'+JSON.stringify(e)+'"');case 7:return e.forEach(function(e){t.add(t.buildModel(e),!0)}),h.get(this).loaded=!0,r.abrupt("return",this);case 10:case"end":return r.stop()}},null,this)}},{key:"update",value:function(){var e,t,r,n,o,i=this;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=this.length,this.loaded){u.next=6;break}return u.next=4,regeneratorRuntime.awrap(this.fetch());
case 4:u.next=14;break;case 6:return t=h.get(this).lastUpdate,u.next=9,regeneratorRuntime.awrap(this[y.getUpdatedItems]?this[y.getUpdatedItems](t):{});case 9:r=u.sent,n=r.added,o=r.removed,o&&o.forEach(function(e){return i.remove(e)}),n&&n.forEach(function(e){return i.add(e,!1,!0)});case 14:return u.abrupt("return",this.length-e);case 15:case"end":return u.stop()}},null,this)}},{key:"fetchById",value:function(e){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.fetchRaw(null,{modelId:e}));case 2:return t=r.sent,r.abrupt("return",this.add(this.buildModel(t)));case 4:case"end":return r.stop()}},null,this)}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],n=h.get(this),o=n.loaded?n.models.findIndex(function(t){return t.id===e.id}):-1;return-1===o?(r?n.models.unshift(e):n.models.push(e),e):t?(n.models[o]=e,e):n.models[o]}},{key:"remove",value:function(e){var t=h.get(this),r=t.models.findIndex(function(t){return t.id===e});return-1===r?null:t.models.splice(r,1)[0]}},{key:"toJSON",value:function(){return h.get(this).models}},{key:"at",value:function(e){return h.get(this).models[e]}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.length)){t.next=7;break}return t.next=4,this.at(e);case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}},t,this)})},{key:"fetchOptions",get:function(){return{}}},{key:"length",get:function(){return h.get(this).models.length}},{key:"loaded",get:function(){return h.get(this).loaded}},{key:"hasMore",get:function(){return!this.loaded}}]),e}();a["default"].defineAbstract(v,"createModel"),a["default"].merge(v,l["default"],p["default"]),t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(123),i=n(o),u={findOne:function(e){return this.find(e).limit(1).first()||null},find:function(e){return new i["default"](e,this)}};t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=Array.from(e.iterable);if(e.sortQuery){var r=e.sortQuery;if(r.$natural)-1===r.$natural&&t.reverse();else{var n="function"==typeof r?r:(0,f["default"])(r);t.sort(n)}}if(void 0===e.query)return e.startAt||e.limit?t.splice(e.startAt||0,e.limit||t.length):t;for(var o="function"==typeof e.query?e.query:(0,l["default"])(e.query),i=[],u=e.startAt||0;u<t.length&&!(e.limit&&i.length>=e.limit);u++){var a=t[u];o(a)&&i.push(a)}return i}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(124),f=n(a),c=r(126),l=n(c),s=new WeakMap,p=function(){function e(t,r){o(this,e),s.set(this,{query:t,iterable:r})}return u(e,[{key:"limit",value:function(e){return this._ensurePending(),s.get(this).limit=e,this}},{key:"skip",value:function(e){return this._ensurePending(),s.get(this).startAt=e,this}},{key:"sort",value:function(e){return this._ensurePending(),s.get(this).sortQuery=e,this}},{key:"toArray",value:function(){var e=s.get(this);return void 0===e.result&&(e.result=i(e)),e.result}},{key:"first",value:function(){return this.toArray()[0]||null}},{key:"forEach",value:function(e){return this.toArray().forEach(e),this}},{key:"_ensurePending",value:function(){if(this._ready())throw new Error("Cannot reconfigure after the query has been executed.")}},{key:"_ready",value:function(){return void 0!==s.get(this).result}},{key:Symbol.iterator,value:function(){return this.toArray()[Symbol.iterator]}}]),e}();t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=!0,a=!1,c=void 0;try{for(var l,s=Object.getOwnPropertyNames(r)[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var p=l.value,d=r[p],y=f["default"].find(e,p),h=f["default"].find(t,p),v=void 0;if(v="object"===("undefined"==typeof d?"undefined":u(d))?o(y,h,d):i(y,h,d),0!==v)return v}}catch(b){a=!0,c=b}finally{try{!n&&s["return"]&&s["return"]()}finally{if(a)throw c}}}function i(e,t,r){return e===t?0:e>t?r:-r}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=function(e){return function(t,r){return o(t,r,e)}};var a=r(125),f=n(a)},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={find:function(e,t){for(var r=t.split("."),n=0;n<r.length;n++){if(void 0===e)return;e=e[r[n]]}return e},exists:function(e,t){return void 0!==this.find(e,t)},get global(){return"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0}};t["default"]=r}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if("object"!==("undefined"==typeof t?"undefined":i(t))||Array.isArray(t))return l.eq(e,t);var r=!0,n=!1,u=void 0;try{for(var a,f=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(r=(a=f.next()).done);r=!0){var s=a.value,p=t[s];if("$"===s.charAt(0)){var d=l[s.substr(1)];if(void 0===d)throw new Error('Unknown WHERE selector "'+s+'"');if(!d(e,p))return!1}else{var y=c["default"].find(e,s);if(!o(y,p))return!1}}}catch(h){n=!0,u=h}finally{try{!r&&f["return"]&&f["return"]()}finally{if(n)throw u}}return!0}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=function(e){return function(t){return t.toJSON&&(t=t.toJSON()),o(t,e)}};var u=r(127),a=n(u),f=r(125),c=n(f),l={eq:function(e,t){return Array.isArray(e)||Array.isArray(t)?a["default"].areEqual(e,t):0===e&&0===t||Object.is(e,t)},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return t>e},lte:function(e,t){return t>=e},ne:function(e,t){return!l.eq(e,t)},"in":function(e,t){if(!Array.isArray(t))throw new Error('$in and $nin require an Array, got "'+t+'".');var r=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var a=i.value;if(l.eq(e,a))return!0}}catch(f){n=!0,o=f}finally{try{!r&&u["return"]&&u["return"]()}finally{if(n)throw o}}return!1},nin:function(e,t){return!l["in"](e,t)},or:function(e,t){if(!Array.isArray(t))throw new Error('$or and $nor require an Array, got "'+t+'".');var r=!0,n=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var f=u.value;if(o(e,f))return!0}}catch(c){n=!0,i=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw i}}return!1},nor:function(e,t){return!l.or(e,t)},and:function(e,t){if(!Array.isArray(t))throw new Error('$and requires an Array, got "'+t+'".');var r=!0,n=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var f=u.value;if(!o(e,f))return!1}}catch(c){n=!0,i=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw i}}return!0},not:function(e,t){return!o(e,t)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={areEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},isIterable:function(e){return null==e?!1:void 0!==e[Symbol.iterator]}};t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(9),c=n(f),l=r(119),s=n(l),p=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e.sdk,5,"score"));return r._event=e,r.apiPath="/events/"+e.getProperty("identifier")+"/users/{modelId}",r}return u(t,e),a(t,[{key:"createModel",value:function(){return new c["default"](this._event)}}]),t}(s["default"]);t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(1),c=n(f),l=r(130),s=n(l),p=r(131),d=n(p),y=r(4),h=n(y),v=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e.sdk));return r.apiPath="/events/"+e.getProperty("identifier")+"/ads/{modelId}",r}return u(t,e),a(t,[{key:"createModel",value:function(){return new c["default"](this.sdk)}}]),t}(s["default"]);h["default"].merge(v,d["default"]),t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function d(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:d(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(121),l=n(c),s=r(6),p=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:s.Symbols.parseResponse,value:function(e){return f(Object.getPrototypeOf(t.prototype),s.Symbols.parseResponse,this).call(this,e).data}}]),t}(l["default"]);t["default"]=p},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(121);t["default"]=n({},o.Symbols.getUpdatedItems,function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.fetchRaw(this.fetchOptions));case 2:return e=t.sent,t.abrupt("return",{removed:e,added:e});case 4:case"end":return t.stop()}},null,this)})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(133),c=n(f),l=r(130),s=n(l),p=r(131),d=n(p),y=r(4),h=n(y),v=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e.sdk));return r.apiPath="/events/"+e.getProperty("identifier")+"/messages/{modelId}",r}return u(t,e),a(t,[{key:"createModel",value:function(){return new c["default"](this.sdk)}}]),t}(s["default"]);h["default"].merge(v,d["default"]),t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(2),c=n(f),l=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"type",get:function(){return"message"}}]),t}(c["default"]);t["default"]=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=y.get(e);t.autoUpdate&&(t.autoUpdateTimeout=void 0,e.updateCollections().then(function(){t.autoUpdateTimeout=setTimeout(function(){return a(e)},e.autoUpdateVelocity)}))}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(10),l=n(c),s=r(3),p=r(2),d=n(p),y=new WeakMap,h=function(e){function t(e,r){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],u=n.autoUpdate,a=void 0===u?!1:u,f=n.autoUpdateVelocity,c=void 0===f?15e3:f;o(this,t);var l=i(this,Object.getPrototypeOf(t).call(this,e));if("string"!=typeof r||!/^[a-z0-9\-_]+$/i.test(r))throw new s.SdkError(l,'Event identifier "'+r+'" is not valid.');return l.setProperty("identifier",r),l.apiPath="/events/"+r,l.autoUpdateVelocity=c,y.set(l,{collections:new Map,autoUpdate:a}),l}return u(t,e),f(t,[{key:"fetchCollections",value:function(){var e=[];return y.get(this).collections.forEach(function(t){e.push(t.fetch())}),l["default"].Promise.all(e)}},{key:"addCollection",value:function(e,t){var r=y.get(this).collections;if(r.has(e))throw new s.SdkError(this,"Collection "+e+" already registered for this event");return r.set(e,t),this}},{key:"getCollection",value:function(e){return y.get(this).collections.get(e)}},{key:"updateCollections",value:function(){var e=y.get(this),t=[];return e.collections.forEach(function(e){return t.push(e.update())}),Promise.all(t)}},{key:"autoUpdate",set:function(e){e=!!e;var t=y.get(this);t.autoUpdate!==e&&(t.autoUpdate=e,e?a(this):t.autoUpdateTimeout&&(clearTimeout(t.autoUpdateTimeout),t.autoUpdateTimeout=void 0))},get:function(){return y.get(this).autoUpdate}},{key:"type",get:function(){return"event"}}]),t}(d["default"]);t["default"]=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function h(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(134),l=n(c),s=r(3),p=r(2),d=n(p),y=function(e){function t(e,r,n){o(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,e));if("string"!=typeof r)throw new s.SdkError(u,'Channel identifier "'+r+'" is not valid.');return u._eventConfig=n,u.apiPath="/channels/"+r,u}return u(t,e),a(t,[{key:"setProperties",value:function(e){var r=e.event;return this._event=new l["default"](this.sdk,r.identifier,this._eventConfig),this._event.setProperties(r),Array.isArray(e.properties)&&(e.properties={}),f(Object.getPrototypeOf(t.prototype),"setProperties",this).call(this,e)}},{key:"event",get:function(){return this._event}},{key:"type",get:function(){return"channel"}}]),t}(d["default"]);t["default"]=y}]);